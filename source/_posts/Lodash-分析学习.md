---
title: Lodash 分析学习
date: 2019-03-07 15:22:17
tags: js
---
> 稍微拿了几个函数研究了一下lodash的原码, 可以发现几个特点.

一个是函数的防止意外性, 一般在写功能函数的时候,我不会去考虑如果传的参数不是我们想要的类型,会怎么处理.
然而在lodash中,功能函数都会对不是预料之中的类型做处理的.例如需要返回数组的情况,传参在不符合规范的情况下,函数就会默认的返回一个空数组.而不是直接的报错.

还有就是对位操作符的使用, 两种情况, 一种是需要使用length的时候, 很多时候我们都需要置零,或者是转换成数值类型.
这个时候用位操作符就可以很方便的解决这个问题.(这个我在之前的位操作符的博客中有写到过,这里做一个大概的总结)

使用>>>0 右移0位,将其他类型置为0, 同时还会把正数转成正整数,一般都是对length使用,完全符合使用场景

使用n >>>1 等同于 parseInt(n / 2), 可以在取中间数的使用,  现在可以想到的使用场景就是二分法中取中间key的时候.

未完待续~