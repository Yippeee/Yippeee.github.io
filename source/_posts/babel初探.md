---
title: babel初探
date: 2019-04-18 11:07:01
tags:
---

# babel

## babel 做了什么

babel 就是将js中新的语法转化成低版本的JS，一般转成ES5大部分浏览器就够了。

## 运行方式

分为三个阶段：解析，转换，生成。 其中的具体功能是利用AST实现的。

### 插件

babel本身不具有转化的功能，转化的功能都被分解到plugin中去了。这样利用控制，同时在使用babel时候，配置就是必不可少的了。

同时，插件还分为两种：

1. 语法插件

语法插件主要是用于新语法中一些新提供的语法，在老版本中，会认为是错误的语法，而在新版中认为是可以使用的语法。使用语法插件后，就不会报错，会认为这样是正确的。

和转译插件的差别在于是**否转化**，语法插件只是改变了**解析**的规则

2. 转译插件

转译插件插件则是为了支持新式的代码，将它转化成浏览器支持的版本。例如箭头函数：

In: 
```js
var a = () => {};
var b = () => b;
```
经过转译插件之后，Out:
```js
var a = function() {};
var b = function () {return b;};
```

**注意的是，转译插件中会用到语法插件的情况，转译插件会直接启动，不同我们同时制定了**

### 使用插件的方式

就是NPM包引入标准的步骤：

1. npm i babel-plugin-xxx 安装
2. 把插件名字增加到配置文件中

这个时候肯定会觉得，那一个项目得用到的插件肯定很多啊，这么一个一个的配置肯定很麻烦啊。

so，preset(预设)就出来啦。 其实preset就是一整套插件的方案。

